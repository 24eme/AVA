/*

Uniform v2.1.2
Copyright Â© 2009 Josh Pyles / Pixelmatrix Design LLC
http://pixelmatrixdesign.com

Requires jQuery 1.3 or newer

Much thanks to Thomas Reynolds and Buck Wilson for their help and advice on
this.

Disabling text selection is made possible by Mathias Bynens
<http://mathiasbynens.be/> and his noSelect plugin.
<https://github.com/mathiasbynens/jquery-noselect>, which is embedded.

Also, thanks to David Kaneda and Eugene Bond for their contributions to the
plugin.

Tyler Akins has also rewritten chunks of the plugin, helped close many issues,
and ensured version 2 got out the door.

License:
MIT License - http://www.opensource.org/licenses/mit-license.php

Enjoy!

*/
(function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);if(e.prop){return e.prop.apply(e,t)}return e.attr.apply(e,t)}function i(e,t,n){var r,i;for(r in n){if(n.hasOwnProperty(r)){i=r.replace(/ |$/g,t.eventNamespace);e.bind(i,n[r])}}}function s(e,t,n){i(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass);t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass);t.removeClass(n.activeClass)},"mousedown touchbegin":function(){if(!e.is(":disabled")){t.addClass(n.activeClass)}},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function o(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function u(e,t,n){if(n){e.addClass(t)}else{e.removeClass(t)}}function a(e,t,n){var r="checked",i=t.is(":"+r);if(t.prop){t.prop(r,i)}else{if(i){t.attr(r,r)}else{t.removeAttr(r)}}u(e,n.checkedClass,i)}function f(e,t,n){u(e,n.disabledClass,t.is(":disabled"))}function l(e,t,n){switch(n){case"after":e.after(t);return e.next();case"before":e.before(t);return e.prev();case"wrap":e.wrap(t);return e.parent()}return null}function c(e,n,i){var s,o,u;if(!i){i={}}i=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},i);s=t("<div />");o=t("<span />");if(n.autoHide&&e.is(":hidden")&&e.css("display")==="none"){s.hide()}if(i.divClass){s.addClass(i.divClass)}if(n.wrapperClass){s.addClass(n.wrapperClass)}if(i.spanClass){o.addClass(i.spanClass)}u=r(e,"id");if(n.useID&&u){r(s,"id",n.idPrefix+"-"+u)}if(i.spanHtml){o.html(i.spanHtml)}s=l(e,s,i.divWrap);o=l(e,o,i.spanWrap);f(s,e,n);return{div:s,span:o}}function h(e,n){var r;if(!n.wrapperClass){return null}r=t("<span />").addClass(n.wrapperClass);r=l(e,r,"wrap");return r}function p(){var n,r,i,s;s="rgb(120,2,153)";r=t('<div style="width:0;height:0;color:'+s+'">');t("body").append(r);i=r.get(0);if(e.getComputedStyle){n=e.getComputedStyle(i,"").color}else{n=(i.currentStyle||i.style||{}).color}r.remove();return n.replace(/ /g,"")!==s}function d(e){if(!e){return""}return t("<span />").text(e).html()}function v(){return navigator.cpuClass&&!navigator.product}function m(){if(e.XMLHttpRequest!==undefined){return true}return false}function g(e){var t;if(e[0].multiple){return true}t=r(e,"size");if(!t||t<=1){return false}return true}function y(){return false}function b(e,t){var n="none";i(e,t,{"selectstart dragstart mousedown":y});e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function w(e,t,n){var r=e.val();if(r===""){r=n.fileDefaultHtml}else{r=r.split(/[\/\\]+/);r=r[r.length-1]}t.text(r)}function E(e,t,n){var r,i;r=[];e.each(function(){var e;for(e in t){if(Object.prototype.hasOwnProperty.call(t,e)){r.push({el:this,name:e,old:this.style[e]});this.style[e]=t[e]}}});n();while(r.length){i=r.pop();i.el.style[i.name]=i.old}}function S(e,t){var n;n=e.parents();n.push(e[0]);n=n.not(":visible");E(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function x(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var T=true,N=false,C=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var u,a,l,h,p;a=n.submitDefaultHtml;if(t.is(":reset")){a=n.resetDefaultHtml}if(t.is("a, button")){h=function(){return t.html()||a}}else{h=function(){return d(r(t,"value"))||a}}l=c(t,n,{divClass:n.buttonClass,spanHtml:h()});u=l.div;s(t,u,n);p=false;i(u,n,{"click touchend":function(){var n,i,s,o;if(p){return}if(t.is(":disabled")){return}p=true;if(t[0].dispatchEvent){n=document.createEvent("MouseEvents");n.initEvent("click",true,true);i=t[0].dispatchEvent(n);if(t.is("a")&&i){s=r(t,"target");o=r(t,"href");if(!s||s==="_self"){document.location.href=o}else{e.open(o,s)}}}else{t.click()}p=false}});b(u,n);return{remove:function(){u.after(t);u.remove();t.unbind(n.eventNamespace);return t},update:function(){o(u,n);f(u,t,n);t.detach();l.span.html(h()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,r,u;n=c(e,t,{divClass:t.checkboxClass});r=n.div;u=n.span;s(e,r,t);i(e,t,{"click touchend":function(){a(u,e,t)}});a(u,e,t);return{remove:x(e,t),update:function(){o(r,t);u.removeClass(t.checkedClass);a(u,e,t);f(r,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function d(){w(e,h,n)}var u,a,h,p;u=c(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"});a=u.div;p=u.span;h=t("<span />").html(n.fileDefaultHtml);h.addClass(n.filenameClass);h=l(e,h,"after");if(!r(e,"size")){r(e,"size",a.width()/10)}s(e,a,n);d();if(v()){i(e,n,{click:function(){e.trigger("change");setTimeout(d,0)}})}else{i(e,n,{change:d})}b(h,n);b(p,n);return{remove:function(){h.remove();p.remove();return e.unwrap().unbind(n.eventNamespace)},update:function(){o(a,n);w(e,h,n);f(a,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+r(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return false},apply:function(e,t){var n,i;n=r(e,"type");e.addClass(t.inputClass);i=h(e,t);s(e,e,t);if(t.inputAddTypeAsClass){e.addClass(n)}return{remove:function(){e.removeClass(t.inputClass);if(t.inputAddTypeAsClass){e.removeClass(n)}if(i){e.unwrap()}},update:y}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var u,l,h;u=c(e,n,{divClass:n.radioClass});l=u.div;h=u.span;s(e,l,n);i(e,n,{"click touchend":function(){t.uniform.update(t(':radio[name="'+r(e,"name")+'"]'))}});a(h,e,n);return{remove:x(e,n),update:function(){o(l,n);a(h,e,n);f(l,e,n)}}}},{match:function(e){if(e.is("select")&&!g(e)){return true}return false},apply:function(e,n){var r,u,a,l;if(n.selectAutoWidth){S(e,function(){l=e.width()})}r=c(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"});u=r.div;a=r.span;if(n.selectAutoWidth){S(e,function(){E(t([a[0],u[0]]),{display:"block"},function(){var e;e=a.outerWidth()-a.width();u.width(l+e);a.width(l)})})}else{u.addClass("fixedWidth")}s(e,u,n);i(e,n,{change:function(){a.html(e.find(":selected").html());u.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();if(a.html()!==t){e.trigger("change")}},keyup:function(){a.html(e.find(":selected").html())}});b(a,n);return{remove:function(){a.remove();e.unwrap().unbind(n.eventNamespace);return e},update:function(){if(n.selectAutoWidth){t.uniform.restore(e);e.uniform(n)}else{o(u,n);a.html(e.find(":selected").html());f(u,e,n)}}}}},{match:function(e){if(e.is("select")&&g(e)){return true}return false},apply:function(e,t){var n;e.addClass(t.selectMultiClass);n=h(e,t);s(e,e,t);return{remove:function(){e.removeClass(t.selectMultiClass);if(n){e.unwrap()}},update:y}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;e.addClass(t.textareaClass);n=h(e,t);s(e,e,t);return{remove:function(){e.removeClass(t.textareaClass);if(n){e.unwrap()}},update:y}}}];if(v()&&!m()){T=false}t.uniform={defaults:{activeClass:"active",autoHide:true,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:true,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:false,selectAutoWidth:true,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:true,wrapperClass:null},elements:[]};t.fn.uniform=function(n){var r=this;n=t.extend({},t.uniform.defaults,n);if(!N){N=true;if(p()){T=false}}if(!T){return this}if(n.resetSelector){t(n.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(r)},10)})}return this.each(function(){var e=t(this),r,i,s;if(e.data("uniformed")){t.uniform.update(e);return}for(r=0;r<C.length;r=r+1){i=C[r];if(i.match(e,n)){s=i.apply(e,n);e.data("uniformed",s);t.uniform.elements.push(e.get(0));return}}})};t.uniform.restore=t.fn.uniform.restore=function(e){if(e===n){e=t.uniform.elements}t(e).each(function(){var e=t(this),n,r;r=e.data("uniformed");if(!r){return}r.remove();n=t.inArray(this,t.uniform.elements);if(n>=0){t.uniform.elements.splice(n,1)}e.removeData("uniformed")})};t.uniform.update=t.fn.uniform.update=function(e){if(e===n){e=t.uniform.elements}t(e).each(function(){var e=t(this),n;n=e.data("uniformed");if(!n){return}n.update(e,n.options)})}})(this,jQuery);