#schema des de la DRev
DRev:
  definition:
    fields:
      _id: { }
      _rev: { }
      type: { }
      campagne: { }
      identifiant: { }
      prelevements:
        type: collection
        class: DRevPrelevements
        definition:
          fields:
            cuve_alsace: { }
            cuve_vtsgn: { }
            bouteille_alsace: { }
            bouteille_alsace_grdcru: { }
            bouteille_vtsgn: { }
      declaration:
        type: collection
        class: DRevDeclaration
        inheritance: _DRevDeclarationNoeud
        definition:
          fields:
            '*':
              #------ Certification ------
              type: collection
              class: DRevCertification
              inheritance: _DRevDeclarationNoeud
              definition:
                fields:
                  libelle: { }
                  '*':
                  #------ Genre ------
                    type: collection
                    class: DRevGenre
                    inheritance: _DRevDeclarationNoeud
                    definition:
                      fields:
                        libelle: { }
                        '*':
                          # ------ Appellation ------
                          type: collection
                          class: DRevAppellation
                          inheritance: _DRevDeclarationNoeud
                          definition:
                            fields:
                              libelle: { }
                              # ------- MENTION ----------
                              'mention':
                                type : collection
                                class: DRevMention
                                inheritance: _DRevDeclarationNoeud
                                definition:
                                  fields:
                                    libelle: { }
                                    # ------- LIEU ----------
                                    '*':
                                      type: collection
                                      class: DRevLieu
                                      inheritance: _DRevDeclarationNoeud
                                      definition:
                                        fields:
                                          libelle: { }
                                          # ------ Couleur ------
                                          '*':
                                            type: collection
                                            class: DRevCouleur
                                            inheritance: _DRevDeclarationNoeud
                                            definition:
                                              fields:
                                                libelle: { }
                                                total_superficie: { type:float }
                                                volume_revendique: { type: float }
                                                dr:
                                                  type: collection
                                                  definition:
                                                    fields:
                                                      superficie_total: { type:float }
                                                      volume_sur_place: { type:float }
                                                      volume_sur_place_revendique: { type:float }
                                                      volume_total: { type:float }
                                                      usages_industriels_total: { type:float }
      lots:
        type: collection
        definition:
          fields:
            '*':
              type: collection
              class: DRevLot
              definition:
                fields:
                  total: {  }
                  produits:
                    type: collection
                    definition:
                      fields:
                        '*':
                          type: collection
                          class: DRevLotCepage
                          definition:
                            fields:
                              nb_vtsgn: {   }
                              nb_hors_vtsgn: {  }
                              libelle: {  }
                              hash_produit: {  }
                              no_vtsgn: { type: integer, required: false }
