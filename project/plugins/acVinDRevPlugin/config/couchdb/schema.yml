#DREV
DRev:
  definition:
    fields:
      _id: { }
      _rev: { }
      _attachments:
        type: collection
        definition:
          fields: 
            '*':
              type: collection
              definition:
                fields:
                  '*': { }
      type: { }
      campagne: { }
      identifiant: { }
      validation: { }
      declarant:
        type: collection
        definition:
          fields:
            nom: { }
            raison_sociale: { }
            cvi: { }
            siret: { }
            adresse: { }
            commune: { }
            code_postal: { }
            telephone: { }
            fax: { }
            email: { }
      declaration:
        type: collection
        class: DRevDeclaration
        inheritance: _DRevDeclarationNoeud
        definition:
          fields:
            '*':
              #------ Certification ------
              type: collection
              class: DRevCertification
              inheritance: _DRevDeclarationNoeud
              definition:
                fields:
                  libelle: { }
                  '*':
                  #------ Genre ------
                    type: collection
                    class: DRevGenre
                    inheritance: _DRevDeclarationNoeud
                    definition:
                      fields:
                        libelle: { }
                        '*':
                          # ------ Appellation ------
                          type: collection
                          class: DRevAppellation
                          inheritance: _DRevDeclarationNoeud
                          definition:
                            fields:
                              libelle: { }
                              # ------- MENTION ----------
                              'mention':
                                type : collection
                                class: DRevMention
                                inheritance: _DRevDeclarationNoeud
                                definition:
                                  fields:
                                    libelle: { }
                                    # ------- LIEU ----------
                                    '*':
                                      type: collection
                                      class: DRevLieu
                                      inheritance: _DRevDeclarationNoeud
                                      definition:
                                        fields:
                                          libelle: { }
                                          # ------ Couleur ------
                                          '*':
                                            type: collection
                                            class: DRevCouleur
                                            inheritance: _DRevDeclarationNoeud
                                            definition:
                                              fields:
                                                libelle: { }
                                                volume_revendique: { type: float }
                                                superficie_revendique: { type:float }
                                                detail:
                                                  type: collection
                                                  definition:
                                                    fields:
                                                      volume_sur_place: { type:float }
                                                      volume_sur_place_revendique: { type:float }
                                                      usages_industriels_sur_place: { type:float }
                                                      usages_industriels_total: { type:float }
                                                      volume_total: { type:float }
                                                      superficie_total: { type:float }
                                                # ------ CÃ©page ------
                                                '*':
                                                  type: collection
                                                  class: DRevCepage
                                                  inheritance: _DRevDeclarationNoeud
                                                  definition:
                                                    fields:
                                                      libelle: { }
                                                      superficie_revendique: { type:float }
                                                      volume_revendique: { type:float }
                                                      volume_revendique_vtsgn: { type:float }
                                                      volume_revendique_total: { type:float }
      prelevements:
        type: collection
        definition:
          fields:
            '*':
              type: collection
              class: DRevPrelevement
              definition:
                fields:
                  total_lots: {  }
                  date: {  }
                  libelle_produit: {  }
                  libelle_produit_type: {  }
                  libelle_date: {  }
                  libelle: {  }
                  lots:
                    type: collection
                    definition:
                      fields:
                        '*':
                          type: collection
                          class: DRevLot
                          definition:
                            fields:
                              nb_vtsgn: {   }
                              nb_hors_vtsgn: {  }
                              libelle: {  }
                              hash_produit: {  }
                              no_vtsgn: { type: integer, required: false }
